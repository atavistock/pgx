/* 
This file is auto generated by pgx.

The ordering of items is not stable, it is driven by a dependency graph.
*/

-- src/lib.rs:9
-- aggregate::IntegerAvgState
CREATE TYPE IntegerAvgState;

-- src/lib.rs:9
-- aggregate::integeravgstate_in
CREATE OR REPLACE FUNCTION "integeravgstate_in"(
	"input" cstring /* &std::ffi::c_str::CStr */
) RETURNS IntegerAvgState /* pgx::datum::varlena::PgVarlena<aggregate::IntegerAvgState> */
IMMUTABLE PARALLEL SAFE STRICT
LANGUAGE c /* Rust */
AS 'MODULE_PATHNAME', 'integeravgstate_in_wrapper';

-- src/lib.rs:9
-- aggregate::integeravgstate_out
CREATE OR REPLACE FUNCTION "integeravgstate_out"(
	"input" IntegerAvgState /* pgx::datum::varlena::PgVarlena<aggregate::IntegerAvgState> */
) RETURNS cstring /* &std::ffi::c_str::CStr */
IMMUTABLE PARALLEL SAFE STRICT
LANGUAGE c /* Rust */
AS 'MODULE_PATHNAME', 'integeravgstate_out_wrapper';

-- src/lib.rs:9
-- aggregate::IntegerAvgState
CREATE TYPE IntegerAvgState (
	INTERNALLENGTH = variable,
	INPUT = integeravgstate_in, /* aggregate::integeravgstate_in */
	OUTPUT = integeravgstate_out, /* aggregate::integeravgstate_out */
	STORAGE = extended
);

-- src/lib.rs:57
-- aggregate::integer_avg_state_func
CREATE OR REPLACE FUNCTION "integer_avg_state_func"(
	"internal_state" IntegerAvgState, /* pgx::datum::varlena::PgVarlena<aggregate::IntegerAvgState> */
	"next_data_value" integer /* i32 */
) RETURNS IntegerAvgState /* pgx::datum::varlena::PgVarlena<aggregate::IntegerAvgState> */
STRICT
LANGUAGE c /* Rust */
AS 'MODULE_PATHNAME', 'integer_avg_state_func_wrapper';

-- src/lib.rs:65
-- aggregate::integer_avg_final_func
CREATE OR REPLACE FUNCTION "integer_avg_final_func"(
	"internal_state" IntegerAvgState /* pgx::datum::varlena::PgVarlena<aggregate::IntegerAvgState> */
) RETURNS integer /* i32 */
STRICT
LANGUAGE c /* Rust */
AS 'MODULE_PATHNAME', 'integer_avg_final_func_wrapper';

-- src/lib.rs:70

    CREATE AGGREGATE DEMOAVG (integer)
    (
        sfunc = integer_avg_state_func,
        stype = IntegerAvgState,
        finalfunc = integer_avg_final_func,
        initcond = '0,0'
    );
    
